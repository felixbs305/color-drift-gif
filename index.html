<!DOCTYPE html>
<html>
<head><meta name="viewport" content="width=device-width,initial-scale=1">
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.2/aframe/build/aframe-ar.js"></script>
  <style>
    body, html { margin:0; padding:0; overflow:hidden; }
    #start { position:absolute; top:0; left:0; right:0; bottom:0;
             display:flex; align-items:center; justify-content:center;
             background:rgba(0,0,0,0.7); color:white; font-size:1.5em; }
  </style>
</head>
<body>
  <div id="start">Tap to start AR</div>

  <!-- hidden video for your GIF texture -->
  <video id="gifVid" src="animation_720p_compatible.mp4"
         muted loop playsinline webkit-playsinline style="display:none">
  </video>

  <a-scene embedded vr-mode-ui="enabled: false"
           arjs="sourceType: webcam; debugUIEnabled: false; videoTexture: true;">
    <a-marker type="pattern" url="marker.patt" patternRatio="0.85">
      <a-video src="#gifVid" width="1" height="0.5625"
               rotation="-90 0 0" position="0 0 0"
               autoplay="true" loop="true" muted="true">
      </a-video>
    </a-marker>
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    document.getElementById('start').addEventListener('click', async () => {
      // 1) hide the overlay
      document.getElementById('start').style.display = 'none';
      // 2) kick off the video
      try { await document.getElementById('gifVid').play(); } catch(e){}
      // 3) enter AR mode (calls getUserMedia)
      const scene = document.querySelector('a-scene');
      if (scene && scene.enterVR) scene.enterVR();
    });
  </script>
</body>
</html>